<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="signup.css">
    <title>signup</title>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="icon" type="image/x-icon" href="/Pictures/Index/Penn_Apps.png">
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-6 col-md-6 col-lg-6">
      <div class="form">
        <script>
            function func(){
                    var selected1 = document.querySelector('input[name="option1"]:checked');
                    var selected2 = document.querySelector('input[name="option2"]:checked');
                    console.log(selected1,selected2);
                    var option=selected1?"user":"owner";
            document.getElementById('editForm').action = "http://localhost:5000/"+option+"/create";
                  }
            
        </script>
        <form id="editForm" method="post"  style="border:1px solid #ccc">
            <div class="container"> 
              <h1>Sign Up</h1>
              <p>Please fill in this form to create a User account.</p>
              <hr>

              <label for="name"><b>Name</b></label>
              <input type="text" placeholder="Enter Name" name="name" required>
          
              <label for="psw"><b>Password</b></label>
              <input type="password" placeholder="Enter Password" name="password" required>
          
              <label for="psw-repeat"><b>Confirm Password</b></label>
              <input type="password" placeholder="Confirm Password" id="psw-repeat" required>
          
              <label for="phone"><b>Contact Number</b></label>
              <input type="text" placeholder="Enter contact number" name="contact" required>

              <label for="option"><b>Role</b></label><br>

              <input type="radio" name="option1" value="user"> User
              <input type="radio" name="option2" value="owner"> Owner<br><br>       
             
              <label>
                <input type="checkbox" checked="checked" name="remember" style="margin-bottom:15px"> Remember me
              </label>
          
              <p>By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Policy</a>.</p>
          
              <div class="clearfix">
                <button type="button" class="cancelbtn">Cancel</button>
                <button type="submit" onclick="func()" class="signupbtn">Sign Up</button>
                
              </div>
            </div>
          </form>
        </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6">
        <div class="upload_pic">
          <img id="uploadedImage" src="/Pictures/Index/PROFILE_GENERAL.webp" width="500px" height="500px" alt="Image not found" style="width:300px;height:300px;margin-left:35px; margin-top: 200px;">
          </div>
        <br>
          <div class="form" style="margin-left: 165px;">
          <form action="upload.php" method="post" enctype="multipart/form-data">
            <label for="image">Choose an image to upload:</label>
            <input type="file" id="image" name="image" accept="image/*"><br>
            <br>
            <input type="submit" value="Upload" style="text-align: center; margin-left: 160px;">
          </form>
          </div>
        </div>
    </div>
    </div>
</body>
<script>
  // Get references to the image and file input elements
  const uploadedImage = document.getElementById('uploadedImage');
  const imageInput = document.getElementById('image');

  // Add an event listener to the file input element
  imageInput.addEventListener('change', function() {
    // Check if a file has been selected
    if (this.files && this.files[0]) {
      const reader = new FileReader();

      // Set up a callback function to run when the image is loaded
      reader.onload = function(e) {
        // Update the src attribute of the image element with the uploaded image
        uploadedImage.src = e.target.result;
      };

      // Read the selected file as a data URL
      reader.readAsDataURL(this.files[0]);
    }
  });
</script>
</html>